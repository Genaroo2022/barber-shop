spring:
  profiles:
    default: dev
  jpa:
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        format_sql: true
    open-in-view: false
  flyway:
    enabled: true
    locations: classpath:db/migration

server:
  port: ${PORT:8080}

app:
  jwt:
    expiration-seconds: ${JWT_EXPIRATION_SECONDS:28800}
  firebase:
    api-key: ${FIREBASE_API_KEY:}
    allowed-uids: ${FIREBASE_ALLOWED_UIDS:}
  whatsapp:
    enabled: ${WHATSAPP_AUTOREPLY_ENABLED:false}
    webhook-verify-token: ${WHATSAPP_WEBHOOK_VERIFY_TOKEN:}
    phone-number-id: ${WHATSAPP_PHONE_NUMBER_ID:}
    access-token: ${WHATSAPP_ACCESS_TOKEN:}
    lookback-minutes: ${WHATSAPP_AUTOREPLY_LOOKBACK_MINUTES:90}
    cooldown-minutes: ${WHATSAPP_AUTOREPLY_COOLDOWN_MINUTES:720}
    business-timezone: ${WHATSAPP_BUSINESS_TIMEZONE:America/Argentina/Buenos_Aires}
  ai:
    haircut:
      huggingface-token: ${HUGGINGFACE_API_TOKEN:}
      caption-model: ${HUGGINGFACE_HAIRCUT_MODEL:Salesforce/blip-image-captioning-base}
      preview-enabled: ${HUGGINGFACE_HAIRCUT_PREVIEW_ENABLED:true}
      preview-model: ${HUGGINGFACE_HAIRCUT_PREVIEW_MODEL:Qwen/Qwen-Image-Edit}
      max-image-bytes: ${APP_AI_HAIRCUT_MAX_IMAGE_BYTES:5242880}
  security:
    ai:
      max-requests-per-minute: ${APP_SECURITY_AI_MAX_REQUESTS_PER_MINUTE:3}
      max-requests-per-hour: ${APP_SECURITY_AI_MAX_REQUESTS_PER_HOUR:15}
      max-concurrent-requests: ${APP_SECURITY_AI_MAX_CONCURRENT_REQUESTS:2}
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://127.0.0.1:5173}
